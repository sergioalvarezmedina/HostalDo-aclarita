{% extends 'hostal/base.html' %}
{% load static  %}

{% block content %}
<title>Mantenedor Habitaciones</title>

<body>
    <div class="page-wrapper bg-gra-03 p-t-45 p-b-50">
        <div class="wrapper wrapper--w790">
            <div class="card card-5">
                <div class="card-heading">
                    <h2 class="title">Administración Habitaciones</h2>
                </div>
                <br>
                <div class="datos-empresa">
                  {% csrf_token %}
                </div>
                    <div class="table-wrapper-scroll-y my-custom-scrollbar">
                      <table class="table table-bordered table-striped mb-0">                            <thead class="thead-dark text-center">
                              <tr >
                                <th class="text-center"scope="col">ID Habitación</th>
                                <th class="text-center"scope="col">Nombre</th>
                                <th class="text-center"scope="col">Tipo</th>
                                <th class="text-center"scope="col">Estado</th>
                                <th class="text-center"scope="col">Camas</th>
                                <th class="text-center"scope="col">Precio</th>
                                <th class="text-center"scope="col">Accesorios</th>
                                <th class="text-center"scope="col">Selección</th>
                                <th class="text-center"scope="col">Edición</th>
                              </tr>
                            </thead>
                            <tbody>
                              {% for listaHabitaciones in form.listaHabitaciones %}
                                  <tr>
                                  <th scope="row">{{listaHabitaciones.habitacion_id}}</th>
                                  <td>{{listaHabitaciones.rotulo}}</td>
                                  <td>{{listaHabitaciones.habitacion_tipo.descriptor}}</td>
                                  <td>{{listaHabitaciones.habitacion_estado.descripcion}}</td>
                                  <td>{{listaHabitaciones.camas}}</td>
                                  <td>{{listaHabitaciones.precio}}</td>
                                  <td>{{listaHabitaciones.accesorios}}</td>
                                  <td>
                                      <div class="form-check">
                                        <input class="form-check-input position-static" type="checkbox" id="blankCheckbox" name="sel" value="{{listaHabitaciones.habitacion_id}}" aria-label="...">
                                     </div>
                                  </td>
                                 <td ><a href="{% url 'Editarhab' listaHabitaciones.habitacion_id %}"><button id="btnEditarHab"   class="btn text-light registro btn-space " type="button">Editar</button></a></td>
                                  </tr>
                                  {% endfor %}
                            </tbody>
                          </table>
                         </div>
                         <br>

                         <br>
                        <form method="POST" action="/ModificarEstado/" id="formEstadoCambio" name="formEstadoCambio">

                          {% csrf_token %}

                          <div class="botonesParteuno ">
                            <div class="control-label form-inline mb-3  justify-content-around" >
                              <div class="justify-content-start form-inline">
                              <label for="validationCustom03" class="mr-2 pr-2">Estado</label>
                              <div class="rs-select2 js-select-simple select--no-search ml-2 pl-2">
                                <select name="estado" for="estado" id="estado" class="form-control">
                                  {% for estadoHabitacion in form.estadoHabitacion %}
                                  <option selected="selected" value="{{estadoHabitacion.habitacion_estado_id}}" >{{estadoHabitacion.descripcion}}</option>
                                  {% endfor %}
                                </select>
                                <div class="select-dropdown"></div>
                              </div>
                               <button id="btnAplicarEstado" name="cambiarEstado" class="btn text-light registro btn-space" type="button" onclick="setHabitacionEstado()" >Aplicar Estado</button>
                             
                              </div>
                               <button id="btnEliminarHab" class="btn text-light registro btn-space text" type="button" onclick="showHabitacionEliminar()">Eliminar</button>
                             
                            </div>
                          </div>
                          <div class="text-center mt-5 mb-5 ">
                          <button id="btnNuevTipoHab" class="btn text-light registro btn-space " type="button"  data-toggle="modal" data-target="#TipoHabitacion">Nuevo Tipo de Habitación</button>
                           <button id="btnAgregarHab" class="btn text-light registro btn-space" data-toggle="modal" data-target="#Agregar" type="button">Agregar</button>
                          </div>

                        </form>
  
                      </div>
                   <br>
                   <br>
                  </div>
              </div>



</body><!-- This templates was made by Colorlib (https://colorlib.com) -->

            <!-- Modal Ayuda-->
<div class="modal fade" id="Ayuda" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Ayuda</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        El procedimiento consiste en ayudar a realizar la compra de lorem ipsum dolor sit amet, consectetur adipisicing elit. Odit dolore tempora at ipsam, dolorem eum commodi deleniti, voluptatum. Est, aperiam natus beatae maiores molestias sit vitae in obcaecati! Aliquam doloribus ut atque recusandae non minus, et, ea illum, temporibus eveniet repellendus exercitationem dolorem error nulla amet ad inventore tenetur! Qui aliquid quisquam reiciendis quidem maxime velit molestias ut quibusdam tempora dolores iure minima, pariatur officiis maiores voluptas culpa sapiente fuga earum sed eum. Nesciunt quod, dolorum repellendus. Itaque recusandae qui minima quas officiis vel perferendis sunt, cum distinctio laudantium sit libero dignissimos asperiores enim, maxime cupiditate accusantium ullam quidem repudiandae incidunt corporis nam commodi beatae labore. Sit cum voluptatem nam itaque magni mollitia atque fugiat pariatur eius sapiente, iste ratione illo quasi aut laudantium. Officiis labore quidem qui, nemo, blanditiis voluptatibus. Ducimus et similique minus consectetur. Natus hic ipsum, commodi vel sint similique provident, ad tenetur maxime obcaecati aut, voluptates.
      </div>
      <div class="modal-footer">
      </div>
    </div>
  </div>
</div>

<!-- Modal Agregar habitacion-->
<div class="modal fade" id="Agregar" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Agregar Habitaciones</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <form method="POST" action="/AgregarHabitacion/">
          {% csrf_token %}
        <div class="modal-body">
                 <div class="control-label form-inline justify-content-center">
               <label for="agregarHabitacionId" class="mr-3">ID Habitacion</label>
                <input type="text" class="form-control" id="HabitacionID"  name="HabitacionID" required>
            </div>
        <br>
          <div class="control-label form-inline justify-content-center">
             <label for="validationCustom02" class="mr-3">Nombre</label>
             <input type="text" class="form-control" id="NombreHabitacion"  name="NombreHabitacion" required>
            </div>
        <br>
           <div class="form-inline justify-content-center">
             <label for="habitacionPrecio" class="mr-3">Precio</label>
            <input type="text" class="form-control" id="PrecioHabitacion"  name="PrecioHabitacion" required>
          </div>
          <br>
               <div class="form-inline justify-content-center">
             <label for="agregarHabitacionAccesorios" class="mr-3">Camas</label>
            <input type="text" class="form-control" id="CamasHabitacion" name="CamasHabitacion" required>
          </div>
        <br>
               <div class="form-inline justify-content-center">
             <label for="agregarHabitacionAccesorios" class="mr-3">Accesorios</label>
            <input type="text" class="form-control" id="AccesoriosHabitacion" name="AccesoriosHabitacion" required>
          </div>
        <br>
          <div class="control-label form-inline mr-3 justify-content-center" >
             <label for="habitacionTipo" class="mr-10 pr-4">Tipo Habitación</label>
            <div class="rs-select2 js-select-simple select--no-search ml-4 pl-3">
              <select name="habitacionTipo" for="habitacionTipo" id="estado" class="form-control">
                  {% for tipoHabitacion in form.tipoHabitacion %}
                        <option selected="selected">{{tipoHabitacion.descriptor}}</option>
                 {% endfor %}
              </select>
              <div class="select-dropdown"></div>
            </div>
            </div>
             </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
        <button type="submit" class="btn btn-primary">Guardar Cambios</button>
      </div>
      </form>
    </div>
  </div>
</div>



<!-- Modal Agregar tipo habitacion-->
<div class="modal fade" id="TipoHabitacion" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Agregar Tipo Habitación</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <form method="POST" action="/GuardarNuevaHabitacion/">
          {% csrf_token %}
        <div class="modal-body">
                 <div class="control-label form-inline justify-content-center">
               <label for="validationCustom01" class="mr-3">Nombre</label>
                <input type="text" class="form-control" id="validationCustom01" name="nombre_tipo_habitacion" required>
            </div>
       </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
        <button type="submit" class="btn btn-primary">Guardar Cambios</button>
      </div>
      </form>
    </div>
  </div>
</div>

<div id="modalMessage" class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">

  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-header">
      <span id="modalMessageHeader"></span>
    </div>

    <div class="modal-content">
      <span id="modalMessageBody"></span>
    </div>

    <div class="modal-fotter">
      <span id="modalMessageFooter"></span>
    </div>

  </div>
</div>

<script src="{% static "js/jquery-3.5.1.min.js" %}"></script>
<script src="{% static "js/bootstrap.min.js" %}"></script>
<script src="{% static "js/modal.js" %}"></script>
<script src="{% static "js/hostal.js" %}"></script>
<script src="{% static 'js/hostal.js' %}"></script>

<script>
  $("#navigationForm").prop("action", "{{nav}}");
</script>

{% endblock %}
